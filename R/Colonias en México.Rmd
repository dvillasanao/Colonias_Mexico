---
title: "Delimitación de colonias y otros asentamientos humanos (DCAH)"
author: "Diana Villasana Ocampo"
knit: (function(inputFile, encoding) {
       rmarkdown::render(inputFile, encoding = encoding, output_dir = "../Output/")
  })
output:
   html_document:
      code_folding: hide
      highlight: tango
      theme: flatly
      toc: true
      toc_depth: 3
      toc_float:
        collapsed: yes
---

```{=html}
<style type="text/css">
body {
text-align: justify;
font-style: normal;
font-family: "Montserrat";
font-size: 12px
}
h1.title {
  font-size: 40px;
  color: #000D3B;
}
h1 {
  color: #B6854D;
}
h2 {
  color: #172984;
}
h3 {
  color: #172984;
}
</style>
```

```{=html}
<style>
.nav>li>a {
    position: relative;
    display: block;
    padding: 10px 15px;
    color: #1C3BA4
}
.nav-pills>li.active>a, .nav-pills>li.active>a:hover, .nav-pills>li>a:focus {
    color: #ffffff;
    background-color: #09C2BC
}
</style>
```

```{=html}
<style>
.tile1-text {
    position: relative;
    display: block;
    padding: 10px 15px;
    color: #0A6A87;
    list-style: none;
}
.top1-tiles a:nth-of-type(1):hover, .top-tiles1 a:nth-of-type(1):focus{
    color: #ffffff;
    background: #0A6A87
}
</style>
```

```{=html}
<style>
.tile2-text {
    position: relative;
    display: block;
    padding: 10px 15px;
    color: #0A6CC8;
    list-style: none;
}
.top2-tiles a:nth-of-type(1):hover, .top2-tiles a:nth-of-type(1):focus{
    color: #ffffff;
    background: #0A6CC8
}
</style>
```

```{=html}
<style>
.math {
  font-size: 15px;
  color: #1e42ab;
}
</style>
```

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE, cache = TRUE, 
                      cache.lazy = FALSE, class.source = "fold-show")
knitr::opts_knit$set(root.dir = here::here())
setwd(here::here())
```

```{r,echo=FALSE, eval=FALSE}
rm(list = ls())
```

```{r, echo = FALSE, results=FALSE}
# Paquetes que se usaron en el documento 
require(dplyr)          #A Grammar of Data Manipulation 
require(RColorBrewer)
require(knitr)
require(kableExtra)
require(openxlsx)
require(readxl)
require(rgdal)          #Para importar shapefiles. 
require(sp)             # Classes and Methos for Spatial Data
library(spdep)    # Índice de Moran 
require(spdplyr)        #Data manipulation verbs for the sptial classes
```

```{r, echo = FALSE, results=FALSE}
# Se descargan las fuentes de la google fonts
require(showtext)
library(extrafont)
# activar showtext
windowsFonts()
```

## Objetivo  

La **Delimitación de Colonias y otros Asentamientos Humanos (`DCAH`)** constituye una iniciativa del Instituto Nacional de Estadística y Geografía (`INEGI`) que tiene como propósito esencial la generación y mantenimiento de un sistema integral de información geográfica sobre los asentamientos humanos en el territorio mexicano. Este proyecto se desarrolló mediante un marco de colaboración estratégica con las autoridades municipales, quienes desempeñan un papel crucial en la delimitación precisa de estos espacios territoriales.

La implementación del `DCAH` se sustenta en cuatro pilares fundamentales que garantizan su efectividad y relevancia institucional. 

1. **Generación de información geográfica precisa:** El programa se centra en la generación de información geográfica de alta precisión, estableciendo un riguroso sistema de datos espaciales que refleja fielmente la realidad territorial de los asentamientos humanos en México. Este compromiso con la exactitud y la calidad de los datos representa la base sobre la cual se construyen todas las demás funciones del programa.

2. **Análisis y la toma de decisiones:** Capacidad para facilitar procesos de análisis y toma de decisiones en múltiples ámbitos. La información generada por el DCAH se ha convertido en un recurso indispensable para la planificación urbana estratégica, la optimización en la gestión de servicios públicos, el desarrollo de investigaciones sociodemográficas y la formulación de políticas públicas basadas en evidencia. Esta versatilidad en su aplicación demuestra el valor multidimensional del programa.

3. **Promover la colaboración interinstitucional:** Enfoque en la promoción de la colaboración interinstitucional. El INEGI ha establecido mecanismos efectivos de cooperación con las autoridades municipales, creando sinergias que aseguran tanto la calidad como la actualización continua de la información recopilada. Esta colaboración representa un modelo ejemplar de coordinación entre diferentes niveles de gobierno para el beneficio público.

4. **Poner a disposición de la sociedad información relevante:** La democratización del acceso a la información. El INEGI ha implementado una política de transparencia y accesibilidad, poniendo a disposición del público general los datos del DCAH a través de su plataforma digital. Esta iniciativa no solo cumple con los principios de gobierno abierto, sino que también facilita el acceso a información valiosa para investigadores, planificadores urbanos y ciudadanos interesados. 

## Proposito   

Proporcionar a las **Unidades de Estado (UE)** y a la sociedad en general un insumo que permita el análisis y estudios referidos a esta delimitación de colonias y otros asentamientos humanos, en temas geográficos, sociales, demográficos, económicos, culturales, históricos, políticos, entre otros.

Se encuentran en formatos digitales, cabe aclarar que **aún no se cuenta con la cobertura a nivel nacional**, pero se cuenta con Delimitaciones de colonias y otros asentamientos humanos y conjuntos de datos vectoriales con los que se tiene el aval del Ayuntamiento municipal.

Los archivos vectoriales se encuentran disponibles en formato Shape (`.shp`), los cuales pueden ser incorporados en sistemas de información geográfica (`SIG`). Mismo que se encuentran disponibles en la página oficial del [INEGI](https://www.inegi.org.mx/programas/dcah/#descargas)


> **Asentamiento humano:** Es el establecimiento de un conglomerado demográfico, con el conjunto de sus sistemas de convivencia, en un área físicamente localizada considerando dentro de la misma los elementos naturales y las obras materiales que lo integran. También es un componente de referencia del **domicilio geográfico**.   

**Delimitación de los asentamientos humanos**   

La delimitación o actualización de los asentamientos humanos conforman a las localidades amanzanadas de la siguiente manera:    

- Localidades con 50 000 habitantes o más y ciudades capitales.   
- Conglomerados de localidades contiguas.  
- Localidades cabeceras municipales.   
- El resto de las localidades urbanas.   
- El resto de las localidades rurales amanzanadas.   


### Integración del conjunto de datos vectoriales de la capa de asentamientos humanos  

```{r, echo = FALSE}
require(gt)
require(openxlsx)
tabla <- read.xlsx("Bases/Estructura.xlsx")

tabla %>% 
 gt() %>%
  tab_header(title = "Conjunto de datos vectoriales de la capa de asentamientos humanos",
             subtitle = "Insituto Nacional de Estadística y Geografía") %>%
   tab_footnote(footnote = "Fuente: INEGI. Delimitación de colonias y otros asentamientos humanos, 2024") %>%
     tab_options(heading.title.font.size = 14, 
                 heading.subtitle.font.size = 12,
                 table.font.names = "Century Gothic",
                 table.font.size = 10,
                 data_row.padding = px(1)) %>%
      tab_style(style = list(cell_text(align = "left",
                                       weight = 'bold')),
                locations = list(cells_title(groups = c("title")))) %>%
       tab_style(style = list(cell_text(align = "left")),
                 locations = list(cells_title(groups = c("subtitle")))) %>%
        cols_width(starts_with("Contenido") ~ px(400),
                   starts_with("Descripción") ~ px(200),
                   everything() ~ px(80)) %>%
         as_raw_html() 
```


## Shapefile

La función `readOGR` del paquete `rgdal`, extrae automáticamente la información utilizada por otros paquetes `SIG` de código abierto como QGIS y permite a R manejar una gama más amplia de formatos de datos espaciales. Esta función lee datos `OGR` y datos vectoriales, pero solamente permite manejar capas con características geométricas (no mezcla puntos, líneas o polígonos en una sola capa) y a su vez establecerá un sistema de referencia espacial si la capa tiene dichos metadatos.\
Para leer un archivo `shapefile`, se establecen los siguientes argumentos, como `dsn`, en donde se indica el directorio que contiene los shapes y `layer` que es el nombre explícito de la capa a trabajar y dichas capas deben de ir sin la extensión `.shp`.

A continuación, se lee el archivo .shp que contiene de manera integrada la división de el área geoestadística `as`.

```{r,results=FALSE,class.source = "fold-show"}
shape_asentamientos <- readOGR(dsn ="D:/Colonias y Asentamientos/DCAH 2024/conjunto_de_datos", 
                               layer = "00as",
                                encoding = "UTF-8",
                                 use_iconv = TRUE)
```

